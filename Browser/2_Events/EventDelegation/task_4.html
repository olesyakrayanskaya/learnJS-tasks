<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        body {
            height: 2000px;
        }

        .tooltip {
            position: fixed;
            padding: 10px 20px;
            border: 1px solid #b3c9ce;
            border-radius: 4px;
            text-align: center;
            font: italic 14px/1.3 sans-serif;
            color: #333;
            background: #fff;
            box-shadow: 3px 3px 3px rgba(0, 0, 0, .3);
        }
    </style>

</head>

<body>
    <div class="content">
        <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusantium deleniti praesentium, consequatur culpa
            molestias amet esse libero, non veritatis quis cupiditate aliquid commodi impedit modi nemo earum quo
            sapiente dolore doloribus, qui dolorum officia unde accusamus. Qui commodi dolores mollitia numquam. Labore,
            incidunt ea eligendi a accusamus rem deleniti voluptates, rerum in adipisci necessitatibus nostrum
            distinctio temporibus tempora saepe ipsa nulla ullam sunt, asperiores totam voluptas iusto unde. Error ab
            doloribus deserunt mollitia expedita quaerat obcaecati dignissimos delectus labore odio inventore dolore
            tenetur rerum minus cum, commodi veniam, repellat, magnam ut corporis excepturi explicabo nihil eveniet
            reiciendis. Placeat labore sapiente ad quas ipsam rem fugit id, molestiae quos, esse excepturi est officiis
            pariatur laudantium asperiores numquam facere sint nobis eos repellat nostrum debitis iusto? Inventore error
            odio delectus expedita suscipit minus aspernatur ducimus autem! Excepturi velit animi rem dolore nisi
            explicabo saepe natus corrupti, nemo maxime, eos illum quasi sunt ab deleniti odio officiis, magnam debitis
            sapiente et repellat quia facere. Eaque quidem eligendi sunt illo veritatis tenetur repellendus deleniti
            voluptatum doloremque consectetur voluptatem, debitis aliquam est consequatur numquam deserunt qui officia
            molestias recusandae veniam unde facilis error eius facere? Blanditiis tempore eum esse magnam distinctio,
            ad eos in veritatis?
        </p>
        <button data-tooltip="эта подсказка длиннее, чем элемент">Lorem, ipsum.</button>
        <button data-tooltip="HTML<br>подсказка">Lorem ipsum dolor sit.</button>
        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ab totam tenetur eveniet quod tempora distinctio,
            accusamus dolore non! Sint dignissimos est autem! Distinctio perferendis quidem debitis est architecto
            consequatur laborum fuga nostrum facilis eum, non, necessitatibus reiciendis nam blanditiis quibusdam,
            impedit quisquam dolore. Labore, distinctio magni veniam nihil minus rem voluptas accusamus! Necessitatibus,
            suscipit quod! Delectus, nisi praesentium qui ratione blanditiis iste incidunt nostrum fugiat ea voluptatem
            quo provident illo eum, sapiente, molestias accusamus rerum ad deleniti et! Rem, nam?</p>
    </div>
</body>

<script>

    let tooltipElem;

    document.onmouseover = function (event) {
        let target = event.target;

        let tooltipHtml = target.dataset.tooltip;
        if (!tooltipHtml) return;

        tooltipElem = document.createElement('div');
        tooltipElem.className = 'tooltip';
        tooltipElem.innerHTML = tooltipHtml;
        document.body.append(tooltipElem);

        let coords = target.getBoundingClientRect();

        let left = coords.left + (target.offsetWidth - tooltipElem.offsetWidth) / 2;
        if (left < 0) left = 0;

        let top = coords.top - tooltipElem.offsetHeight - 5;
        if (top < 0) {
            top = coords.top + target.offsetHeight + 5;
        }

        tooltipElem.style.left = left + 'px';
        tooltipElem.style.top = top + 'px';
    };

    document.onmouseout = function (e) {

        if (tooltipElem) {
            tooltipElem.remove();
            tooltipElem = null;
        }

    };

</script>


</html>